<Patch>
	<!-- Sets human race to HAF's AlienRace and adds the required nodes as necesary. -->
	<Operation Class="PatchOperationSequence">
		<operations>
			<li Class="PatchOperationAttributeSet">
				<xpath>Defs/ThingDef[defName="Human"]</xpath>
				<attribute>Class</attribute>
				<value>AlienRace.ThingDef_AlienRace</value>
			</li>
			<li Class="PatchOperationConditional">
				<xpath>Defs/ThingDef[defName="Human"]/alienRace</xpath>
				<match Class="PatchOperationConditional">
					<xpath>Defs/ThingDef[defName="Human"]/alienRace/generalSettings</xpath>
					<match Class="PatchOperationConditional">
						<xpath>Defs/ThingDef[defName="Human"]/alienRace/generalSettings/alienPartGenerator</xpath>
						<match Class="PatchOperationConditional">
							<xpath>Defs/ThingDef[defName="Human"]/alienRace/generalSettings/alienPartGenerator/bodyAddons</xpath>
							<nomatch Class="PatchOperationAdd">
								<xpath>Defs/ThingDef[defName="Human"]/alienRace/generalSettings/alienPartGenerator</xpath>
								<value>
									<bodyAddons />
								</value>
							</nomatch>
						</match>
						<nomatch Class="PatchOperationAdd">
							<xpath>Defs/ThingDef[defName="Human"]/alienRace/generalSettings</xpath>
							<value>
								<alienPartGenerator>
									<bodyAddons />
								</alienPartGenerator>
							</value>
						</nomatch>
					</match>
					<nomatch Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="Human"]/alienRace</xpath>
						<value>
							<generalSettings>
								<alienPartGenerator>
									<bodyAddons />
								</alienPartGenerator>
							</generalSettings>
						</value>
					</nomatch>
				</match>
				<nomatch Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="Human"]</xpath>
					<value>
						<alienRace>
							<generalSettings>
								<alienPartGenerator>
									<bodyAddons />
								</alienPartGenerator>
							</generalSettings>
						</alienRace>
					</value>
				</nomatch>
			</li>
			<!-- Set the human "alien" to have all the basic head types rather than just the Average_Normal one. -->
			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="Human"]/alienRace/generalSettings/alienPartGenerator</xpath>
				<value>
					<aliencrowntypes>
						<li>Average_Normal</li>
						<li>Average_Wide</li>
						<li>Average_Pointy</li>
						<li>Narrow_Normal</li>
						<li>Narrow_Pointy</li>
						<li>Narrow_Wide</li>
					</aliencrowntypes>
				</value>
			</li>
		</operations>
	</Operation>
</Patch>